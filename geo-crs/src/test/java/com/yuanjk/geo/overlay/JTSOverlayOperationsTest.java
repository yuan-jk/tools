package com.yuanjk.geo.overlay;

import com.yuanjk.geo.shp.ShpReader;
import org.junit.After;
import org.junit.Before;
import org.junit.Test;
import org.locationtech.jts.geom.Geometry;
import org.locationtech.jts.geom.GeometryCollection;
import org.locationtech.jts.geom.GeometryFactory;
import org.locationtech.jts.io.ParseException;
import org.locationtech.jts.io.WKTReader;
import org.locationtech.jts.io.WKTWriter;

import java.io.IOException;
import java.util.List;

public class JTSOverlayOperationsTest {

    @Before
    public void setUp() throws Exception {
    }

    @After
    public void tearDown() throws Exception {
    }


    @Test
    public void dissolvePolygons() throws IOException {
        String file = "D:\\data\\tmp\\高速线缓冲区.shp";
        List<Geometry> geometryList = ShpReader.readAsGeometry(file);

        GeometryFactory factory = new GeometryFactory();
        GeometryCollection geometryCollection = (GeometryCollection) factory.buildGeometry(geometryList);
        WKTWriter writer = new WKTWriter();
        System.out.println("==\n"+writer.write(geometryCollection.union()));
    }


    @Test
    public void difference() throws ParseException, IOException {
        String input = "Polygon ((125.02949981868201235 44.25478964166449458, 125.25841537469270293 44.2725930048799583, " +
                "125.39738702894273104 44.0967434966794869, 125.11972332816642961 44.06424700073550582, " +
                "124.96293417932938041 44.17479786212984294, 125.02949981868201235 44.25478964166449458))";
        String erase = "MultiPolygon (((125.05446537382731265 44.1818074887159824, 125.08852323107633708 44.27959204546902328, " +
                "125.08867109179170996 44.27986777028883125, 125.08889691934366795 44.28008430870156786, 125.08917860815797951 " +
                "44.28022046441866877, 125.08948858457085862 44.28026290956990607, 125.08979650593130373 44.28020748932813433, " +
                "125.0900722307511046 44.28005962861276146, 125.0902887691638341 44.27983380106081057, 125.09042492488094922 " +
                "44.27955211224649901, 125.09046737003218652 44.27924213583360569, 125.09041194979040768 44.27893421447317479, " +
                "125.05622781817577049 44.18078710752266858, 125.05604719488455601 44.18047049438313678, 125.05576509501067051 " +
                "44.18023965176443113, 124.9272534460589128 44.10961220844668418, 124.9269590594942656 44.10950626734057067, " +
                "124.92664634363144671 44.10949648181264138, 124.92634590927795557 44.10958380973856663, 124.92608716504152255 " +
                "44.10975970285249304, 124.92589543861082291 44.11000694351091767, 124.92578949750469519 44.11030133007556486, " +
                "124.925779711976773 44.11061404593836954, 124.92586703990269825 44.1109144802918749, 124.92604293301661755 " +
                "44.11117322452830081, 124.92629017367504218 44.11136495095900756, 125.05446537382731265 44.1818074887159824)))";
        WKTReader reader = new WKTReader();
        Geometry inputPolygon = reader.read(input);

        List<Geometry> geometryList = ShpReader.readAsGeometry("D:\\data\\tmp\\删除测试01.shp");

        System.out.println("==erase input size: " + geometryList.size());
//        Geometry erasePolygon = reader.read(erase);

        for (Geometry geometry : geometryList) {
            inputPolygon = inputPolygon.difference(geometry);
        }

        WKTWriter wktWriter = new WKTWriter();
        System.out.println("==\n" + wktWriter.write(inputPolygon));
    }


    @Test
    public void erase() throws ParseException, IOException {
        String inputPolygon = "MultiPolygon (((125.16226 44.10788, 125.16003 44.10712, 125.15848 44.10660, 125.15796 " +
                "44.10655, 125.15764 44.1064, 125.15745 44.10630, 125.15748 44.10608, 125.15880 44.10544, 125.15792 " +
                "44.10455, 125.15683 44.10365, 125.15592 44.10308, 125.15564 44.102, 125.15485 44.10293, 125.15449 " +
                "44.10307, 125.15349 44.10363, 125.15260 44.104, 125.15119 44.10566, 125.15110 44.10591, 125.15252 " +
                "44.10765, 125.14756 44.1093, 125.14586 44.10786023, 125.14282 44.10856, 125.13685 44.1099, 125.13311 " +
                "44.11100, 125.13169 44.11032, 125.13033 44.1096, 125.12746 44.11050, 125.12473 44.11140, 125.12069 " +
                "44.10743, 125.12000 44.10769, 125.11850 44.10649, 125.11269 44.10665, 125.09509 44.11313, 125.07226 " +
                "44.11461, 125.06574 44.10394, 125.05901 44.10663, 125.05432 44.10851, 125.04806 44.11036, 125.04729 " +
                "44.11065, 125.03784 44.11418, 125.02327 44.11387, 125.02305 44.1148, 125.02305 44.11547, 125.02318 " +
                "44.11651, 125.02325 44.11753, 125.02319 44.11820, 125.02326 44.11893, 125.02369 44.11971, 125.02434 " +
                "44.12034, 125.02471 44.12052, 125.02501 44.12105, 125.0251 44.12191, 125.02640 44.12330, 125.02656 " +
                "44.12385, 125.02674 44.12432, 125.0272 44.12479, 125.0277 44.12535, 125.02830 44.12599, 125.02835 " +
                "44.12646, 125.02799 44.12697, 125.02769 44.12720, 125.02704 44.12770, 125.02647 44.1284, 125.02582 " +
                "44.12912, 125.02555 44.12935, 125.02543 44.12983, 125.02513 44.13061, 125.02467 44.13129, 125.02409 " +
                "44.13176, 125.02356 44.13217, 125.02338 44.13261, 125.02335 44.13318, 125.02282 44.1337, 125.02230 " +
                "44.13430, 125.02166 44.13503, 125.02132 44.13585, 125.02049 44.13706, 125.01984 44.13793, 125.01890 " +
                "44.13875, 125.01826 44.13929, 125.01785 44.13962, 125.01760 44.14006, 125.01745 44.14061, 125.01660 " +
                "44.14158, 125.016 44.14225, 125.01582 44.14287, 125.0154 44.14341, 125.01453 44.14459, 125.01371 " +
                "44.14534, 125.01320 44.14596, 125.01282 44.1466, 125.01250 44.14698, 125.0121 44.14736, 125.01159 " +
                "44.14801, 125.01108 44.14873, 125.01092 44.14898, 125.01092 44.14939, 125.01123 44.15010, 125.01151 " +
                "44.15045, 125.01173 44.15099, 125.0118 44.1519, 125.01181 44.15242, 125.01209 44.15274, 125.0126 " +
                "44.15309, 125.01276 44.15341, 125.01267 44.15363, 125.01234 44.15381, 125.01178 44.15399, 125.01054 " +
                "44.15419, 125.00984 44.15418, 125.00931 44.154, 125.00858 44.15496, 125.00807 44.15509, 125.00773 " +
                "44.15500, 125.00737 44.15467, 125.00721 44.15415, 125.00691 44.15345, 125.00654 44.15314, 125.00605 " +
                "44.15321, 125.0051 44.15364, 125.00441 44.154, 125.00395 44.15485, 125.0030 44.15507, 125.00232 " +
                "44.15533, 125.00169 44.15542, 125.00108 44.15560, 125.00071 44.15593, 125.00074 44.15635, 125.00091 " +
                "44.15660, 125.00119 44.15682, 125.00152 44.15710, 125.00170 44.15739, 125.0016 44.15762, 125.00144 " +
                "44.15807, 125.00108 44.15829, 125.00066 44.15837, 125.0002 44.15835, 124.99983 44.1581, 124.99910 " +
                "44.15788, 124.99864 44.15788, 124.99765 44.15788, 124.99704 44.15792, 124.99686 44.15810, 124.99686 " +
                "44.15839, 124.9968 44.15881, 124.997 44.15955, 124.99704 44.1599, 124.99700 44.16030, 124.99686 " +
                "44.1606, 124.9966 44.16095, 124.99657 44.16123, 124.99657 44.16146, 124.9965 44.16174, 124.99677 " +
                "44.16202, 124.997 44.16272, 124.99803 44.16328, 124.99892 44.16566, 124.99933 44.16673, 124.99980 " +
                "44.16831, 124.9999 44.16934, 124.99990 44.1710, 124.99985 44.1716, 124.99970 44.17193, 124.99924 " +
                "44.17255, 124.99877 44.1732, 124.99855 44.17358, 124.99836 44.17416, 124.99739 44.1782, 124.99701 " +
                "44.18340, 124.99615 44.18740, 124.99512 44.19094, 124.99477 44.19295, 124.99456 44.19414, 124.99559 " +
                "44.19620, 124.99559 44.20054, 124.99684 44.2067, 125.00031 44.21125, 125.0015 44.21599, 125.00158 " +
                "44.21603, 125.00242 44.21746, 125.00903 44.22026, 125.01014 44.22263, 125.00920 44.22703, 125.00650 " +
                "44.23002, 125.00650 44.23306, 125.00984 44.23838, 125.01712 44.23998, 125.02227 44.23451, 125.02605 " +
                "44.23444, 125.03540 44.23906, 125.053 44.24440, 125.05480 44.24582, 125.05214 44.25031, 125.06342 " +
                "44.25062, 125.07197 44.2508, 125.08476 44.251, 125.08639 44.24834, 125.08870 44.24791, 125.09239 " +
                "44.24649, 125.09694 44.24692, 125.0983 44.24501, 125.11351 44.24569, 125.11917 44.247, 125.12055 " +
                "44.24673, 125.11866 44.24359, 125.12038 44.24009, 125.12321 44.23978, 125.12870 44.24119, 125.12894 " +
                "44.24373, 125.12954 44.24518, 125.13186 44.2461, 125.13404 44.2442, 125.13683 44.24450, 125.13838 " +
                "44.24656, 125.13735 44.25019, 125.14520 44.25492, 125.15372 44.2603, 125.15447 44.26077, 125.1560 " +
                "44.26178, 125.15799 44.26442, 125.16168 44.26722, 125.16439 44.26783, 125.16495 44.26657, 125.16447 " +
                "44.26414, 125.16701 44.2624, 125.16872 44.26236, 125.17186 44.26488, 125.17284 44.26491, 125.17894 " +
                "44.2601, 125.18134 44.26073, 125.18460 44.26276, 125.1854 44.26448, 125.18555 44.26709, 125.1909 " +
                "44.26973, 125.19632 44.27235, 125.2001 44.27444, 125.20430 44.27133, 125.20980 44.26976, 125.212 " +
                "44.26798, 125.21452 44.26632, 125.21933 44.26601, 125.22074 44.26727, 125.22302 44.26530, 125.22499 " +
                "44.26401, 125.22572 44.26183, 125.22383 44.2600, 125.22280 44.25848, 125.22443 44.25605, 125.22400 " +
                "44.25454, 125.22199 44.25285, 125.22233 44.25088, 125.22329 44.2498, 125.2262 44.24670, 125.22761 " +
                "44.24421, 125.22692 44.24276, 125.22714 44.23999, 125.22894 44.23876, 125.2322 44.23701, 125.23374 " +
                "44.23615, 125.2332 44.23498, 125.2337 44.23218, 125.23327 44.23080, 125.23199 44.22935, 125.23284 " +
                "44.22858, 125.23460 44.22892, 125.2359 44.22827, 125.23623 44.22812, 125.2360 44.22634, 125.2371 " +
                "44.22489, 125.23696 44.22295, 125.23765 44.22169, 125.24001 44.22018, 125.24198 44.2179, 125.24439 " +
                "44.21470, 125.24370 44.21347, 125.24224 44.21230, 125.2430 44.21021, 125.24241 44.20954, 125.23683 " +
                "44.2095, 125.236 44.20711, 125.23775 44.20553, 125.23825 44.20486, 125.23868 44.20107, 125.23919 " +
                "44.19920, 125.24262 44.19611, 125.2432 44.19583, 125.24353 44.19588, 125.24385 44.19594, 125.2441 " +
                "44.19595, 125.24481 44.19584, 125.24538 44.19561, 125.24599 44.19524, 125.24637 44.19508, 125.24677 " +
                "44.19501, 125.24704 44.1950, 125.24811 44.19512, 125.24884 44.19521, 125.25036 44.19523, 125.25086 " +
                "44.19508, 125.2512 44.19485, 125.25145 44.19462, 125.25150 44.19448, 125.25158 44.19416, 125.2516 " +
                "44.19345, 125.2513 44.19289, 125.25076 44.19216, 125.2503 44.19182, 125.24921 44.19094, 125.24871 " +
                "44.19062, 125.24831 44.19037, 125.24814 44.19014, 125.24802 44.18956, 125.24802 44.18935, 125.2480 44.1891, 125.24820 44.18886, 125.24858 44.18863, 125.24891 44.18853, 125.24915 44.18851, 125.2495 44.18855, 125.25036 44.18893, 125.25180 44.18958, 125.25254 44.18988, 125.25261 44.18990, 125.2532 44.19005, 125.25385 44.19005, 125.2545 44.18995, 125.25518 44.18984, 125.25618 44.18958, 125.25725 44.18930, 125.25777 44.1891, 125.25802 44.188, 125.25890 44.1876, 125.25904 44.18744, 125.25928 44.18723, 125.25958 44.18713, 125.25993 44.18713, 125.260 44.18735, 125.26094 44.18748, 125.26145 44.18753, 125.26154 44.18753, 125.26200 44.18753, 125.26249 44.18730, 125.26280 44.18704, 125.26303 44.18655, 125.26331 44.18567, 125.26335 44.18558, 125.26357 44.18462, 125.26357 44.18446, 125.26359 44.1842, 125.26364 44.18397, 125.26364 44.18376, 125.26352 44.18359, 125.26338 44.18350, 125.26278 44.18352, 125.26226 44.18364, 125.26201 44.18370, 125.2617 44.18375, 125.2609 44.18405, 125.26046 44.18436, 125.26020 44.18481, 125.26004 44.18532, 125.25995 44.18560, 125.25975 44.1857, 125.25961 44.18574, 125.25937 44.1856, 125.25909 44.18553, 125.25825 44.18485, 125.2578 44.18415, 125.25767 44.18378, 125.25767 44.18359, 125.25797 44.1834, 125.25890 44.1831, 125.25944 44.18292, 125.25963 44.18277, 125.25980 44.182, 125.2598 44.18227, 125.25987 44.18181, 125.26013 44.18138, 125.2605 44.18105, 125.26114 44.18068, 125.26125 44.18048, 125.26121 44.18031, 125.26112 44.1801, 125.26093 44.18006, 125.26026 44.18006, 125.25954 44.18006, 125.25914 44.17991, 125.25871 44.17967, 125.25838 44.17907, 125.25813 44.17836, 125.25800 44.17818, 125.25788 44.17810, 125.25734 44.17800, 125.25697 44.17792, 125.25633 44.1779, 125.25557 44.17856, 125.25531 44.1790, 125.25511 44.17936, 125.25491 44.17940, 125.25468 44.17938, 125.25454 44.17937, 125.25436 44.1792, 125.25431 44.17914, 125.25418 44.17874, 125.25418 44.17844, 125.25414 44.17828, 125.25399 44.17776, 125.25373 44.17745, 125.25361 44.17737, 125.25296 44.1771, 125.2521 44.17681, 125.25133 44.17661, 125.25036 44.17641, 125.24998 44.17645, 125.24993 44.1764, 125.24980 44.17641, 125.24968 44.17628, 125.24963 44.17604, 125.24966 44.17586, 125.24977 44.17566, 125.24986 44.17554, 125.25035 44.17523, 125.25121 44.17440, 125.25145 44.17418, 125.25198 44.17367, 125.25206 44.17360, 125.25242 44.17319, 125.25272 44.1725, 125.25273 44.17252, 125.25298 44.17169, 125.25303 44.1715, 125.25305 44.1712, 125.2529 44.17096, 125.25286 44.17078, 125.25252 44.17071, 125.25207 44.17073, 125.25156 44.17090, 125.25095 44.17113, 125.25035 44.17121, 125.24970 44.17122, 125.24922 44.17104, 125.2490 44.17073, 125.24898 44.17025, 125.24898 44.16974, 125.24887 44.16878, 125.24889 44.16848, 125.24898 44.16829, 125.24916 44.16822, 125.24940 44.16822, 125.24980 44.16829, 125.25035 44.16855, 125.25142 44.16894, 125.25173 44.16894, 125.25198 44.16887, 125.25226 44.16871, 125.25239 44.16853, 125.25238 44.16829, 125.25200 44.16779, 125.25178 44.1676, 125.25128 44.16708, 125.25099 44.16670, 125.25086 44.16633, 125.25091 44.16608, 125.25107 44.16587, 125.25142 44.16573, 125.25190 44.16569, 125.25256 44.16577, 125.2533 44.16605, 125.25405 44.16613, 125.25446 44.16606, 125.25465 44.16598, 125.25476 44.16576, 125.25473 44.16554, 125.25451 44.1652, 125.25401 44.16493, 125.2537 44.16459, 125.25382 44.16426, 125.25405 44.16400, 125.25443 44.16393, 125.25496 44.16390, 125.25577 44.16397, 125.25673 44.16437, 125.25703 44.16438, 125.25726 44.16425, 125.25734 44.16410, 125.25732 44.16394, 125.25717 44.16358, 125.25686 44.16300, 125.25683 44.16256, 125.25689 44.16202, 125.25732 44.16160, 125.25783 44.16128, 125.25803 44.16107, 125.25805 44.16081, 125.25790 44.16060, 125.25687 44.16021, 125.25648 44.15993, 125.2563 44.1597, 125.25640 44.1594, 125.25702 44.15904, 125.25785 44.15871, 125.25815 44.15825, 125.25833 44.15761, 125.25826 44.15722, 125.25799 44.15699, 125.25757 44.15690, 125.25704 44.15697, 125.25632 44.1576, 125.25547 44.15804, 125.25470 44.15828, 125.25409 44.15832, 125.25374 44.1582, 125.25351 44.15815, 125.25344 44.15780, 125.25362 44.15729, 125.2541 44.15684, 125.25574 44.15633, 125.25599 44.15620, 125.25607 44.15601, 125.25610 44.15582, 125.25596 44.15566, 125.25582 44.15559, 125.25559 44.15559, 125.25517 44.15585, 125.25459 44.15617, 125.25405 44.1562, 125.25372 44.15629, 125.25323 44.15617, 125.25284 44.1559, 125.25263 44.15572, 125.25236 44.15536, 125.25218 44.15512, 125.25213 44.15483, 125.25217 44.15457, 125.25245 44.15438, 125.25260 44.15437, 125.25337 44.15436, 125.2542 44.15423, 125.25467 44.15401, 125.25519 44.15350, 125.25544 44.15305, 125.25543 44.15279, 125.25529 44.15256, 125.25472 44.15248, 125.25459 44.15246, 125.25437 44.15243, 125.25380 44.15232, 125.2534 44.15196, 125.25329 44.15170, 125.25339 44.15148, 125.25368 44.15135, 125.25399 44.15140, 125.25418 44.15143, 125.25438 44.15147, 125.25485 44.15147, 125.25520 44.15139, 125.2554 44.15133, 125.2555 44.15128, 125.25580 44.15117, 125.255 44.15097, 125.25566 44.15079, 125.25525 44.15067, 125.25507 44.15062, 125.2542 44.15058, 125.25401 44.15049, 125.25390 44.15044, 125.25378 44.15024, 125.25381 44.15005, 125.25408 44.1498, 125.25464 44.14962, 125.25481 44.14949, 125.25480 44.14924, 125.25462 44.14894, 125.25394 44.14856, 125.25354 44.14819, 125.25343 44.14796, 125.25343 44.14767, 125.25359 44.14747, 125.25384 44.14742, 125.25414 44.14740, 125.25484 44.14747, 125.2551 44.14742, 125.25557 44.14709, 125.2556 44.14688, 125.25555 44.14656, 125.25526 44.14621, 125.25506 44.14583, 125.25498 44.14527, 125.25471 44.14485, 125.25454 44.1446, 125.25443 44.14445, 125.25422 44.14434, 125.25400 44.14423, 125.25366 44.14401, 125.2535 44.14376, 125.25354 44.14341, 125.25368 44.14306, 125.25395 44.14262, 125.253 44.14218, 125.25374 44.14160, 125.25349 44.14110, 125.25341 44.1408, 125.25357 44.14059, 125.2540 44.14037, 125.2545 44.14032, 125.25495 44.14038, 125.2552 44.14031, 125.25538 44.1402, 125.25559 44.13974, 125.25565 44.13930, 125.25553 44.13892, 125.25528 44.1386, 125.25487 44.13857, 125.25435 44.13862, 125.25373 44.1387, 125.2532 44.13910, 125.25280 44.13948, 125.25231 44.13978, 125.25176 44.13994, 125.25083 44.1398, 125.25035 44.13966, 125.24959 44.13922, 125.24931 44.13901, 125.24927 44.13884, 125.24938 44.13855, 125.24959 44.13834, 125.25035 44.13810, 125.25202 44.13808, 125.25230 44.13801, 125.25248 44.13786, 125.25249 44.13767, 125.25241 44.13753, 125.25204 44.13738, 125.25160 44.13736, 125.25120 44.1372, 125.25035 44.13650, 125.24975 44.13605, 125.24963 44.13578, 125.24968 44.13558, 125.24990 44.13538, 125.2503 44.13515, 125.25092 44.13491, 125.25158 44.13462, 125.25186 44.13445, 125.25195 44.13427, 125.25191 44.13406, 125.25174 44.13374, 125.25163 44.13354, 125.2516 44.13329, 125.2517 44.13299, 125.25165 44.13271, 125.251 44.13227, 125.25102 44.13197, 125.25110 44.1316, 125.25134 44.13160, 125.25194 44.13152, 125.2523 44.1313, 125.25273 44.13108, 125.25306 44.13091, 125.25339 44.1308, 125.25352 44.13080, 125.25385 44.13056, 125.25411 44.1303, 125.2545 44.12986, 125.25457 44.12944, 125.25444 44.12914, 125.25391 44.12900, 125.25295 44.12900, 125.25187 44.12891, 125.25144 44.1287, 125.25081 44.12789, 125.25035 44.12720, 125.24995 44.12655, 125.24987 44.12599, 125.2498 44.12547, 125.2499 44.12493, 125.25034 44.12444, 125.25065 44.12438, 125.25093 44.12447, 125.25114 44.12488, 125.25141 44.1252, 125.25176 44.12557, 125.25220 44.12560, 125.25259 44.12545, 125.25288 44.1250, 125.25305 44.12454, 125.25321 44.12402, 125.25331 44.12366, 125.25334 44.12322, 125.25337 44.1228, 125.25346 44.12264, 125.25373 44.12241, 125.25456 44.12227, 125.25487 44.12210, 125.25489 44.12191, 125.25475 44.12151, 125.25428 44.12111, 125.25390 44.12050, 125.2538 44.12006, 125.25407 44.11956, 125.25432 44.11924, 125.25463 44.11893, 125.25492 44.11875, 125.25555 44.1188, 125.25630 44.11928, 125.25646 44.11935, 125.25662 44.11942, 125.2567 44.11942, 125.25717 44.1194, 125.2574 44.11925, 125.25761 44.11904, 125.25755 44.11880, 125.2572 44.11849, 125.25717 44.11830, 125.25720 44.11808, 125.25751 44.11790, 125.25799 44.11765, 125.25808 44.11737, 125.25803 44.11694, 125.25791 44.11655, 125.25789 44.11625, 125.25799 44.11597, 125.25834 44.11567, 125.25877 44.11543, 125.25924 44.11528, 125.2597 44.11523, 125.2598 44.11521, 125.26021 44.11511, 125.26059 44.11500, 125.26129 44.11506, 125.26162 44.11518, 125.26192 44.11529, 125.26225 44.11533, 125.26262 44.11518, 125.26288 44.11497, 125.26328 44.11444, 125.26345 44.11402, 125.26344 44.11378, 125.26336 44.11365, 125.26305 44.11349, 125.262 44.11340, 125.26230 44.11348, 125.26123 44.11380, 125.26048 44.11406, 125.25953 44.11427, 125.25911 44.114, 125.2589 44.11467, 125.25864 44.11472, 125.25836 44.11468, 125.25818 44.11445, 125.25818 44.11413, 125.25843 44.11367, 125.25868 44.11341, 125.25871 44.11318, 125.25870 44.11296, 125.25877 44.11263, 125.25909 44.11230, 125.2594 44.11215, 125.25971 44.11206, 125.26016 44.1119, 125.26045 44.11185, 125.26069 44.11178, 125.26135 44.11175, 125.26186 44.11182, 125.26227 44.1118, 125.26254 44.1117, 125.26254 44.11149, 125.26234 44.11116, 125.26220 44.11094, 125.26210 44.11072, 125.26209 44.1104, 125.26202 44.11003, 125.26177 44.10985, 125.2615 44.10985, 125.26145 44.10985, 125.26096 44.11036, 125.26045 44.11073, 125.25966 44.11111, 125.25898 44.11111, 125.2583 44.11104, 125.25786 44.11076, 125.25765 44.11047, 125.25761 44.10993, 125.25766 44.1094, 125.2578 44.10906, 125.25830 44.1088, 125.25908 44.10896, 125.25977 44.10920, 125.26022 44.10920, 125.26049 44.10920, 125.26094 44.10913, 125.26161 44.10899, 125.26229 44.10908, 125.26250 44.109, 125.26297 44.10971, 125.26353 44.11053, 125.26400 44.11078, 125.2647 44.11089, 125.26529 44.11071, 125.26549 44.11043, 125.26552 44.10989, 125.26539 44.10937, 125.26497 44.10893, 125.2643 44.10861, 125.26424 44.10839, 125.26391 44.10786, 125.26368 44.10767, 125.26346 44.10748, 125.26276 44.10726, 125.26254 44.10714, 125.26247 44.10711, 125.26243 44.10687, 125.26273 44.10659, 125.26297 44.10646, 125.26320 44.10635, 125.26346 44.10607, 125.26349 44.10599, 125.26359 44.1056, 125.26360 44.10561, 125.26362 44.10558, 125.26244 44.10499, 125.26161 44.1046, 125.26081 44.10465, 125.25951 44.10420, 125.25917 44.1041, 125.25916 44.10419, 125.25869 44.10472, 125.25808 44.105, 125.25744 44.10702, 125.2574 44.10701, 125.25738 44.10699, 125.25598 44.10657, 125.25638 44.10592, 125.2570 44.10495, 125.25744 44.10424, 125.2577 44.10373, 125.25765 44.1036, 125.25624 44.10270, 125.25567 44.10210, 125.25571 44.10157, 125.25444 44.10086, 125.25413 44.1009, 125.25383 44.1011, 125.25376 44.1013, 125.25346 44.10177, 125.25354 44.10220, 125.25420 44.10256, 125.25413 44.10282, 125.25393 44.10290, 125.25371 44.10308, 125.25365 44.10335, 125.25264 44.10299, 125.25182 44.10422, 125.25178 44.10428, 125.2512 44.10486, 125.25093 44.10512, 125.25065 44.10556, 125.25015 44.10605, 125.2494 44.10660, 125.24862 44.10707, 125.24857 44.10711, 125.24775 44.10772, 125.24761 44.10807, 125.24729 44.10878, 125.24688 44.10904, 125.24598 44.10927, 125.24565 44.10941, 125.24472 44.10937, 125.24299 44.10926, 125.24179 44.10926, 125.23952 44.10929, 125.23651 44.10783, 125.23130 44.10527, 125.22796 44.1037, 125.22780 44.10323, 125.2274 44.1031, 125.22173 44.10149, 125.21819 44.10055, 125.2168 44.10111, 125.21376 44.09963, 125.21240 44.09898, 125.20779 44.09675, 125.1994 44.0927, 125.19669 44.09425, 125.19871 44.0948, 125.20214 44.09585, 125.2028 44.09611, 125.20286 44.09638, 125.20262 44.09676, 125.20183 44.09757, 125.20126 44.09864, 125.20087 44.09908, 125.20045 44.09931, 125.19420 44.0983, 125.19352 44.09833, 125.19299 44.09837, 125.19254 44.09849, 125.19237 44.09855, 125.19180 44.09926, 125.19126 44.09995, 125.19101 44.10036, 125.19131 44.1006, 125.19146 44.10093, 125.19147 44.10111, 125.19124 44.1013, 125.19018 44.10194, 125.18963 44.10224, 125.18963 44.10245, 125.18982 44.10266, 125.19024 44.10298, 125.19041 44.10328, 125.19042 44.10355, 125.19003 44.10414, 125.18869 44.10536, 125.18425 44.10466, 125.18477 44.10099, 125.18382 44.10062, 125.18078 44.09942, 125.17704 44.10176, 125.17756 44.10240, 125.17530 44.10394, 125.17102 44.10659, 125.17015 44.10718, 125.16849 44.10831, 125.16795 44.10784, 125.16734 44.1082, 125.16639 44.10928, 125.16226 44.10788)))";
        String erasePolygonFile = "D:\\data\\spatial_data\\China\\极客大赛空间数据\\长春市范围内数据\\直接导入数据\\天地图矢量数据\\公路线.shp";
        WKTReader reader = new WKTReader();
        Geometry input = reader.read(inputPolygon);

        List<Geometry> geometryList = ShpReader.readAsGeometry(erasePolygonFile);
        System.out.println("==erase input size: " + geometryList.size());
        for (Geometry geometry : geometryList) {
            input = input.difference(geometry);
        }

        WKTWriter writer = new WKTWriter();
        System.out.println("==\\n" + writer.write(input));
    }
}